{"ast":null,"code":"import _toConsumableArray from\"C:/Users/lenovopc/OneDrive/Cuvette Course/amazonclone/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/lenovopc/OneDrive/Cuvette Course/amazonclone/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";export var initialState={basket:[],user:null};export var getBasketTotal=function getBasketTotal(basket){return basket.reduce(function(amount,item){return item.price+amount;},0);};function reducer(state,action){console.log(action);switch(action.type){case\"ADD_TO_BASKET\"://LOGIC FOR Adding item to the basket\nreturn _objectSpread(_objectSpread({},state),{},{basket:[].concat(_toConsumableArray(state.basket),[action.item])});case\"REMOVE_FROM_BASKET\"://LOGIC FROM RETERIEVING FROM THE BASKET\nvar index=state.basket.findIndex(function(basketItem){return basketItem.id===action.id;});var newBasket=_toConsumableArray(state.basket);if(index>=0){newBasket.splice(index,1);}else{console.warn(\"Cant remove product(id:\".concat(action.id,\" ) as its not in basket!\"));}return _objectSpread(_objectSpread({},state),{},{basket:newBasket});default:return state;}}export default reducer;","map":{"version":3,"names":["initialState","basket","user","getBasketTotal","reduce","amount","item","price","reducer","state","action","console","log","type","_objectSpread","concat","_toConsumableArray","index","findIndex","basketItem","id","newBasket","splice","warn"],"sources":["C:/Users/lenovopc/OneDrive/Cuvette Course/amazonclone/src/reducer.js"],"sourcesContent":["export const initialState = {\r\n  basket: [],\r\n  user: null,\r\n};\r\nexport const getBasketTotal = (basket) => \r\n  basket.reduce((amount, item) => item.price + amount, 0);\r\n\r\nfunction reducer(state, action) {\r\n  console.log(action);\r\n  \r\n  switch (action.type) {\r\n    case \"ADD_TO_BASKET\":\r\n      //LOGIC FOR Adding item to the basket\r\n      return {\r\n        ...state,\r\n        basket: [...state.basket, action.item],\r\n      };\r\n\r\n    case \"REMOVE_FROM_BASKET\":\r\n      //LOGIC FROM RETERIEVING FROM THE BASKET\r\n      const index=state.basket.findIndex(\r\n        (basketItem)=>basketItem.id===action.id\r\n\r\n      );\r\n      let newBasket=[...state.basket];\r\n      if(index>=0){\r\n        newBasket.splice(index,1);\r\n\r\n      }\r\n      else{\r\n        console.warn(\r\n          `Cant remove product(id:${action.id} ) as its not in basket!`\r\n        )\r\n      }\r\n      return {\r\n         ...state,\r\n        basket:newBasket\r\n       }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport default reducer;\r\n"],"mappings":"6RAAA,MAAO,IAAM,CAAAA,YAAY,CAAG,CAC1BC,MAAM,CAAE,EAAE,CACVC,IAAI,CAAE,IACR,CAAC,CACD,MAAO,IAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIF,MAAM,QACnC,CAAAA,MAAM,CAACG,MAAM,CAAC,SAACC,MAAM,CAAEC,IAAI,QAAK,CAAAA,IAAI,CAACC,KAAK,CAAGF,MAAM,GAAE,CAAC,CAAC,GAEzD,QAAS,CAAAG,OAAOA,CAACC,KAAK,CAAEC,MAAM,CAAE,CAC9BC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC,CAEnB,OAAQA,MAAM,CAACG,IAAI,EACjB,IAAK,eAAe,CAClB;AACA,OAAAC,aAAA,CAAAA,aAAA,IACKL,KAAK,MACRR,MAAM,IAAAc,MAAA,CAAAC,kBAAA,CAAMP,KAAK,CAACR,MAAM,GAAES,MAAM,CAACJ,IAAI,EAAC,GAG1C,IAAK,oBAAoB,CACvB;AACA,GAAM,CAAAW,KAAK,CAACR,KAAK,CAACR,MAAM,CAACiB,SAAS,CAChC,SAACC,UAAU,QAAG,CAAAA,UAAU,CAACC,EAAE,GAAGV,MAAM,CAACU,EAAE,EAEzC,CAAC,CACD,GAAI,CAAAC,SAAS,CAAAL,kBAAA,CAAKP,KAAK,CAACR,MAAM,CAAC,CAC/B,GAAGgB,KAAK,EAAE,CAAC,CAAC,CACVI,SAAS,CAACC,MAAM,CAACL,KAAK,CAAC,CAAC,CAAC,CAE3B,CAAC,IACG,CACFN,OAAO,CAACY,IAAI,2BAAAR,MAAA,CACgBL,MAAM,CAACU,EAAE,4BACrC,CAAC,CACH,CACA,OAAAN,aAAA,CAAAA,aAAA,IACML,KAAK,MACTR,MAAM,CAACoB,SAAS,GAGpB,QACE,MAAO,CAAAZ,KAAK,CAChB,CACF,CACA,cAAe,CAAAD,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}